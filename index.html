<!doctype html>
<!--CKYLINMC-WORKS-->
<html>

<head>
    <title>Loading...</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta name="author" content="CKylinMC" />
    <meta http-equiv="keywords" content="TruthOrDareQuestions">
    <meta http-equiv="description" content="TruthOrDareQuestions site">
    <script>
        (function (window) {
            window.data = {
                version: '1.0.1',
                updateNote: `
                    <h2>æ›´æ–°æ—¥å¿— (v1.0.1)</h2>
                    2020å¹´11æœˆ22æ—¥
                    <ul>
                        <li>æ·»åŠ å¤åˆ¶æŒ‰é’®</li>
                        <li>æ”¯æŒä¸ºè¯­æ–™æ·»åŠ æè¿°</li>
                        <hr>
                        <li>åˆ é™¤æ— ç”¨ä»£ç ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡</li>
                        <li>ä¼˜åŒ–æ ‡ç­¾æ˜¾ç¤ºæ•ˆæœ</li>
                        <li>å¢åŠ å½“å‰ç­›é€‰æ¡æ•°å±•ç¤º</li>
                        <li>å¢åŠ æ›´æ–°æ—¥å¿—æç¤º</li>
                    </ul>
                `,
                curr: "none",
                addr: {
                    zxh: "https://cdn.jsdelivr.net/gh/CKylinMC/TOD_Dict@main/questions.json",
                    dmx: "https://cdn.jsdelivr.net/gh/CKylinMC/TOD_Dict@main/actions.json"
                },
                zxh:{},
                dmx:{},
                include:[],
                exclude:[]
            }
            window.page = {
                loaded: false,
                superTheme: false,
                isIndex: false,
                prevPage: "",
                prevPageBtnAlwaysShow: true,
                startload: new Date().valueOf(),
                endload: new Date().valueOf(),
                loadtiming: 0,
                title: "Document by CKylin",
                url: location.href,
                onload: () => {},
                autoexecs: [],
                callback: (func) => {
                    if (func instanceof Function) {
                        if(page.loaded) func.apply();
                        window.page.autoexecs.push(func);
                    } else console.error(func, "Can not reg as callback: not a function.");
                }
            };
        })(window);
    </script>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/TODStyles.css">
    <link rel="stylesheet" href="/assets/css/modal.css">
    <link rel="stylesheet" href="/assets/css/PopNotify.css">
    <link rel="stylesheet" href="/assets/css/tips.css">
</head>

<body>
    <header>
        <span class="site-name" onclick="location.href='/'">çœŸå¿ƒè¯å¤§å†’é™© <small style="font-weight: lighter;font-size: small;">åœ¨çº¿ç‰ˆ</small></span>
    </header>
    <div class="container loader" id="load-pending">
        <div style="
        font-size: xx-large;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%,-50%);
    ">
            <span class="loading-spinner" style="
            width: 36px;
            height: 36px;
        "> </span>
            <span class="texttip">æ­£åœ¨åŠ è½½...</span>
        </div>
    </div>
    <div class="container hidden" id="content-container">
        <h1>çœŸå¿ƒè¯å¤§å†’é™©</h1>


        <h3>è¾“å…¥å‚ä¸äººåç§°</h3>
        <div class="game-container">
            <ul id="game-names" class="multi-column-menu">
                
            </ul>
            <div class="game-btns">
            <button id="game-reset" onclick="resetGame()" class="red">é‡ç½®</button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button onclick="Game_Go()" id="game-go">â¤ï¸ Go! âš”ï¸</button>
            </div>
            <div class="game-space">&nbsp;</div>
            <div id="game-result" class="hide">&nbsp;</div>
        </div>


        <h3>å¿«é€Ÿç”ŸæˆçœŸå¿ƒè¯é—®é¢˜æˆ–è€…å¤§å†’é™©è¦æ±‚ï¼</h3>

        <ul class="multi-column-menu">
            <li><a href="javascript:void(0)" onclick="zxh()"
                    style="font-size: 1.4rem;font-weight: bold;text-align:center">â¤ï¸ çœŸå¿ƒè¯</a></li>
            <li><a href="javascript:void(0)" onclick="dmx()"
                    style="font-size: 1.4rem;font-weight: bold;text-align:center">âš”ï¸ å¤§å†’é™©</a></li>
        </ul>
    </div>
    <div id="card-container">

    </div>
    <template id="temp-zxh">
        <div class="container hidden" id="card2">
            <h1>â¤ï¸ çœŸå¿ƒè¯ <span class="counter"></span></h1>
            <div class="exclude-tags hide"></div>
            <div class="include-tags hide"></div>
            <div class="container-btns">
                <button onclick="resetFilter()" class="s-resetfilter s-hide red">é‡ç½®ç­›é€‰</button>
                <button onclick="randomOne()" class="s-random s-hide">ğŸ² éšæœº</button>
            </div>
            <div id="zxh-container" class="s-container">
            </div>
        </div>
    </template>
    <template id="temp-dmx">
        <div class="container hidden" id="card2">
            <h1>âš”ï¸ å¤§å†’é™© <span class="counter"></span></h1>
            <div class="exclude-tags"></div>
            <div class="include-tags"></div>
            <div class="container-btns">
                <button onclick="resetFilter()" class="s-resetfilter s-hide red">é‡ç½®ç­›é€‰</button>
                <button onclick="randomOne()" class="s-random s-hide">ğŸ² éšæœº</button>
            </div>
            <div id="dmx-container" class="s-container">
            </div>
        </div>
    </template>

    <div class="helpbtn" onclick="helpModal()">?</div>

    <div class="top hide" onclick="goTop()">â†‘</div>

    <div class="random-btn" onclick="randomOne()">ğŸ²</div>

    <script>
        page.title = "çœŸå¿ƒè¯å¤§å†’é™© ç½‘é¡µç‰ˆ";
        // page.url = "/index.html";
        page.isIndex = true;
        

        page.callback(function () {
            loadCard2();
        });

        page.callback(function () {
            resetGame();
        });

        page.callback(function () {
            if(!localStorage.notFirstTime){
                localStorage.notFirstTime = 1;
                localStorage.version = window.data.version;
                helpModal();
            }
            if(localStorage.version!=window.data.version){
                localStorage.version = window.data.version;
                updateNote();
            }
        });

        window.onscroll = e=>{
            let topbtn = get(".top");
            if(!topbtn) return;
            if(pageYOffset>200){
                if(topbtn.classList.contains("hide"))topbtn.classList.remove("hide");
            }else{
                if(!topbtn.classList.contains("hide"))topbtn.classList.add("hide");
            }
        }

        function goTop(){
            scrollTo({ 
                top: 0, 
                behavior: "smooth" 
            });
        }

        function tip(e, t) {
            let el = e instanceof HTMLElement ? e : e.target;
            let title = "";
            if (el) {
                title = el.innerHTML;
            }
            openModal(modalTitle(title) + t, "success", "å…³é—­æç¤º");
        }
    </script>
    <footer>
        æ¨èåœ¨ç”µè„‘ä¸­ä½¿ç”¨Chromeã€Firefoxæµè§ˆå™¨è®¿é—®<br>
        <a href="https://github.com/CKylinMC/TOD_Web/issues/new/choose">åé¦ˆé¡µé¢bug</a><br>
        <a href="https://github.com/CKylinMC/TOD_Dict/issues/new/choose">æ·»åŠ æ–°çš„è¯æ¡</a><br>
        <span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡</span><br>
        <a href="https://github.com/CKylinMC/TOD_Web">CKylinMC</a> &copy; 2020
    </footer>
    <script src="/assets/js/CKFetch.js"></script>
    <script src="/assets/js/PopNotify.js"></script>
    <script src="/assets/js/tips.js"></script>
    <script src="/assets/js/modal.js"></script>
    <script src="/assets/js/common.js"></script>
    <script src="/assets/js/game.js"></script>
    <script src="/assets/js/loadCard.js"></script>
    <script src="/assets/js/errorcatcher.js"></script>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <script>
        initModal();
        initTips();
        var tipsShow;
        if (tipsShow = getUrlParam("show")) {
            showTips(tipsShow);
        }
    </script>
    <script>
        (function (window, document) {
            if ("page" in window) {
                let lp = get("#load-pending");
                if (lp) {
                    lp.classList.add("hidden");
                }
                let cc = get("#content-container");
                if (cc) {
                    cc.classList.remove("hidden");
                    cc.classList.add("anim-in");
                }

                if (window.page.onload instanceof Function) {
                    window.page.onload();
                }
                window.page.endload = new Date().valueOf();
                document.title = window.page.title;
                setCurrentPath(window.page.url);
                window.page.loadtiming = (window.page.endload - window.page.startload) / 1000;
                console.info("[LOAD TIME] ç½‘é¡µåŠ è½½è€—æ—¶ " + window.page.loadtiming + " ç§’");

                page.autoexecs.forEach(e => {
                    try {
                        e.apply();
                    } catch (err) {
                        console.error("Errored while executing callback function\n", e,
                            "\n\nThe error is: ", err);
                    }
                });
                page.loaded = true;
            }
        })(window, document);
    </script>
</body>

</html>